{% extends 'manager/include/include.html' %}

{% block content %}
<div class="container-fluid">

    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">유저 목록</h1>
    <p class="mb-4">{{request.user.companymanager.company.name}}의 유저 리스트입니다.</p>
    <!-- 고객 정보 -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">고객 정보</h6>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">
                    <table class="table table-bordered table-sm dataTable text-center" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                        <thead class="thead-dark">
                            <tr>
                                <th style="width : 20%;">아이디</th>
                                <th style="width : 20%;">가입일자</th>
                                <th>이름</th>
                                <th>연락처</th>
                                <th>담당자</th>
                                <th>생년월일</th>
                                <th>성별</th>
                                <th>키</th>
                                <th>몸무게</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in clients %}   
                            <tr class="odd">
                                <td class="sorting_1">{{user.user.username}}</td>
                                <td>{{user.created_at}}</td>
                                <td>{{user.name}}</td>
                                <td>{{user.phone}}</td>
                                <td>{{user.manager.name}}</td>
                                <td>{{user.birth_date}}</td>
                                <td>{{user.get_gender_display}}</td>
                                <td>{{user.height}}cm</td>
                                <td>{{user.weight}}kg</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- 담당자 정보 -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">담당자 정보</h6>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">
                    <table class="table table-bordered table-sm dataTable text-center" id="managerTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
                        <thead class="thead-dark">
                            <tr>
                                <th style="width : 20%;">아이디</th>
                                <th style="width : 20%;">가입일자</th>
                                <th>이름</th>
                                <th>사원번호</th>
                                <th>연락처</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in managers %}   
                            <tr class="odd">
                                <td class="sorting_1">{{user.user.username}}</td>
                                <td>{{user.created_at}}</td>
                                <td>{{user.name}}</td>
                                <td>{{user.id_number}}</td>
                                <td>{{user.phone}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    

</div>
{% endblock content %}
{% block js %}
<script>
    $("#dataTable").DataTable();
    $("#managerTable").DataTable();
</script>
{% endblock js %}
